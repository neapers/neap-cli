const _ = require('lodash');
const u = require("../../utilities");
const mapper = require('./mapper');
const defaultVal = require('../../default');
const core = require('../core/core.js');
const _enum = require('../enum/enum.js');

/*************************************************************************************************
 * ///////////////////////////////////////////////////////////////////////////////////////////////
 * ///////////////////////////////////////////////////////////////////////////////////////////////
 *
 *                                          FUNCTIONS
 * 
 * ///////////////////////////////////////////////////////////////////////////////////////////////
 * ///////////////////////////////////////////////////////////////////////////////////////////////
 */

/**
 * ///////////////////////////////////////////////////////////////////////////////////////////////
 *                                        SQL FUNCTIONS
 * ///////////////////////////////////////////////////////////////////////////////////////////////
 */

const getSomeQueryResult = (args, { sql }) => getYourDataFromYourDB()
.then(
    results => _(results).map(mapper),
    err => { throw err }
);

const getSomeResult = (args, { sql }) => getYourDataFromYourDB()
.then(
    results => _(results).map(mapper),
    err => { throw err }
);

/**
 * ///////////////////////////////////////////////////////////////////////////////////////////////
 *                                       HELPER FUNCTIONS
 * ///////////////////////////////////////////////////////////////////////////////////////////////
 */

// [WRITE YOUR HELPER FUNCTIONS HERE]

/*************************************************************************************************
 * ///////////////////////////////////////////////////////////////////////////////////////////////
 * ///////////////////////////////////////////////////////////////////////////////////////////////
 *
 *                                          MODULE EXPORT
 * 
 * ///////////////////////////////////////////////////////////////////////////////////////////////
 * ///////////////////////////////////////////////////////////////////////////////////////////////
 */

module.exports = {

    root: {
        Query: {
            yourQuery(root, args, context) {
                return getSomeQueryResult();
            }
        }
    },

    dependencies: {
        YourDependency: {
            property(root, args, context) {
                return getSomeResult();
            }
        }
    }
}